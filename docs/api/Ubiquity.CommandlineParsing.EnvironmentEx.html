<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class EnvironmentEx | Command Line Parsing </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class EnvironmentEx | Command Line Parsing ">
      
      <meta name="description" content="Provides environment extensions for handling platform differences.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/UbiquityDotNET/CommandLineParsing/new/master/apiSpec/new?filename=Ubiquity_CommandLineParsing_EnvironmentEx.md&amp;value=---%0Auid%3A%20Ubiquity.CommandLineParsing.EnvironmentEx%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/custom-logo.svg" alt="Command Line Parsing">
            Command Line Parsing
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

        </div>

        <article data-uid="Ubiquity.CommandLineParsing.EnvironmentEx">



  <h1 id="Ubiquity_CommandLineParsing_EnvironmentEx" data-uid="Ubiquity.CommandLineParsing.EnvironmentEx" class="text-break">
Class EnvironmentEx  <a class="header-action link-secondary" title="View source" href="https://github.com/UbiquityDotNET/CommandLineParsing/blob/master/src/Ubiquity.CommandLineParsing/EnvironmentEx.cs/#L13"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Ubiquity.html">Ubiquity</a>.<a class="xref" href="Ubiquity.CommandLineParsing.html">CommandLineParsing</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Ubiquity.CommandLineParsing.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Provides environment extensions for handling platform differences.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static class EnvironmentEx</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">EnvironmentEx</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>






  <h2 class="section" id="properties">Properties
</h2>


  <a id="Ubiquity_CommandLineParsing_EnvironmentEx_CommandLine_" data-uid="Ubiquity.CommandLineParsing.EnvironmentEx.CommandLine*"></a>

  <h3 id="Ubiquity_CommandLineParsing_EnvironmentEx_CommandLine" data-uid="Ubiquity.CommandLineParsing.EnvironmentEx.CommandLine">
  CommandLine
  <a class="header-action link-secondary" title="View source" href="https://github.com/UbiquityDotNET/CommandLineParsing/blob/master/src/Ubiquity.CommandLineParsing/EnvironmentEx.cs/#L33"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the raw unparsed command line (or as close to it as is possible for the given runtime/platform.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static string CommandLine { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="Ubiquity_CommandLineParsing_EnvironmentEx_CommandLine_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>On Desktop .NET 4.7 and earlier <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.environment.commandline">CommandLine</a> provides the full command line without any
funky escape character processing. But the args passed to main or returned from <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.environment.getcommandlineargs">GetCommandLineArgs()</a>
have extra escape character processing. This extra processing is very problematic as it is unique to .NET apps
(C and C++ apps don't have this). If the command line `foo.exe "abc\de f\"` is processed with escaping then the
result the app see is `abc\de f"` (Note the inclusion of the trailing quote character), which is clearly not the
path the user intended to provide. This has always been an annoyance for .NET developers but was easily worked around
by not using the args to Main() and instead getting at the full args via Environment.CommandLine and parsing that using
whatever rules the app wants to support for args.</p>
<p>Unfortunately, with .NET Core things behave very differently. <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.environment.commandline">CommandLine</a> is no longer
the unprocessed command line and instead it is effectively a space delimited join of Environment.GetCommandLineArgs().
Meaning that is has all the .NET Specific escaping applied and there is no platform independent means of getting at
the unprocessed args.</p>
<p>Thus, this implementation is forced to implement the only viable cross platform approach by doing a space delimited
join of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.environment.getcommandlineargs">GetCommandLineArgs()</a> with all it's wonky escaping rules.</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/UbiquityDotNET/CommandLineParsing/blob/master/src/Ubiquity.CommandLineParsing/EnvironmentEx.cs/#L13" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright (C) 2017-2025, Ubiquity.NET contributors
        </div>
      </div>
    </footer>
  </body>
</html>
